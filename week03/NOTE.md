# 本周重点
## 解析生成 DOM 树
主要思路：
1、在状态机的基础上，可以根据 [HTML Standard](https://html.spec.whatwg.org/)来实现`DOM`的状态和解析
2、状态机可以通过HTML的标签分类来实现：  

* 开始标签  
* 结束标签  
* 自封闭标签
3、在标签解析过程中，遇见属性进一步解析，属性值的3种开始标志包括：

* 单引号
* 双引号
* 无引号

4、使用栈的方法构建 DOM 树，在这个过程中，会有文本节点，文本节点处理方式和自封闭标签处理类似， 多文本节点需要合并  


## 生成 computed css 
css计算 —— css Computing： 把css规则属性应用到对应元素上
1、收集css规则
2、css ast语法树结构 --- 添加调用，创建一个元素时，立即计算CSS
3、获取父元素序列
4、选择器也要从当前元素向外排列
5、复杂选择器拆成针对单个元素的选择器，用循环匹配父元素队列
6、一旦选择器匹配了，样式就应用到元素
7、优先级：
div div declaration
[0,     1,    0,     2]  
inline  id    class  tag    

css规则根据specificity和后来优先原则覆盖，specificity是个四元组，越左权限越高；
一个CSS规则的specificity根据包含的简单选择器相加而成。



## 本周总结
  本周课程主要是对 dom 树和 css 计算进行实现，主要使用的还是状态机，然后参照 HTML 标准和 CSS 解析的规则，编写解析方法。